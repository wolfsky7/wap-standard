(function () { if (typeof process !== "undefined" && !process.browser) { return } const win = window; var rem, dpr, scale, doc = win.document, html = doc.documentElement, metaEl = document.querySelector("meta[name=\"viewport\"]"), baseWidth = html.getAttribute("data-use-rem") || 20; baseWidth = +baseWidth; const designWidth = 375; function setRem() { /*return setRemWithNoScale()*/; let dpr = html.getAttribute("data-dpr"); if (dpr) { return } const clientWidth = html.clientWidth * window.devicePixelRatio; dpr = parseInt(window.devicePixelRatio || 1); rem = (clientWidth / designWidth) * baseWidth; scale = 1 / dpr; html.setAttribute("style", "font-size:" + rem + "px !important"); metaEl.setAttribute("content", "initial-scale=" + scale + ",maximum-scale=" + scale + ", minimum-scale=" + scale + ",user-scalable=no"); html.setAttribute("data-dpr", dpr) } function setRemWithNoScale() { let dpr = html.getAttribute("data-dpr"); if (dpr) { return } const clientWidth = html.clientWidth; rem = (clientWidth || 375) / baseWidth; html.setAttribute("style", "font-size:" + rem + "px !important"); dpr = parseInt(window.devicePixelRatio || 1); html.setAttribute("data-dpr", dpr) } setRem(); if (!doc.addEventListener) { return } var resizeEvt = "orientationchange" in win ? "orientationchange" : "resize"; win.addEventListener(resizeEvt, setRem, false); doc.addEventListener("DOMContentLoaded", setRem, false) })(); 